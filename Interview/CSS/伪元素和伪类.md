# 伪元素和伪类

## 定义

css 引入伪类和伪元素概念是为了格式化文档树以外的信息。也就是说，伪类和伪元素是用来修饰不在文档树中的部分，比如，一句话中的第一个字母，或者是列表中的第一个元素。下面分别对伪类和伪元素进行解释：

伪类用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover 来描述这个元素的状态。虽然它和普通的 css 类相似，可以为已有的元素添加样式，但是它只有处于 dom 树无法描述的状态下才能为元素添加样式，所以将其称为伪类。

伪元素用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过:before 来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。

## 常用伪元素和伪类列举

### 伪类

- 伪类前面是一个冒号，E:first-child伪类，会对现有的元素进行筛选
  - `:link`
  - `:visited`
  - `:hover`
  - `:active`
  - `:focus`
  - `:not()`
  - `:first-child`
  - `:last-child`
  - `:nth-child`
  - `:nth-last-child` 从后面计数
  - `:only-child` 只满足一个子元素
  - `:target` 当URL带有锚名称，指向文档内某个具体的元素时，`:target`匹配该元素。
  - `:checked` 被选中的input元素
  - `:empty` 匹配没有子元素的元素
  - `:valid` 匹配条件验证正确的表单元素。

### 伪元素

- 伪元素前面是两个冒号，E::first-line 伪元素。会创造出不存在的新元素，由于 css对单冒号的伪元素也支持，所以这样很容易让新学者混淆。但实际上现在

   css3已经明确规定了伪类单冒号，伪元素双冒号的规则。

  - `::before/:before` 在被选元素前插入内容，**实际上是被选元素内部的最前面，::after也类似**
  - `::after/:after` 在被元素后插入内容，其用法和特性与`:before`相似。
  - `::first-letter/:first-letter` 匹配元素中文本的首字母。被修饰的首字母不在文档树中
  - `::first-line/:first-line` 匹配元素中第一行的文本。这个伪元素只能用在块元素中，不能用在内联元素中。
  - `::selection` 匹配用户被用户选中或者处于高亮状态的部分。在火狐浏览器使用时需要添加`-moz`前缀。该伪元素只支持双冒号的形式。
  - `::placeholder` 匹配占位符的文本，只有元素设置了`placeholder`属性时，该伪元素才能生效。

## 伪元素和伪类的区别

下面是**伪类的使用场景**，一个简单的 html 列表片段：

```html
<ul>
    <li>我是第一个</li>
    <li>我是第二个</li>
</ul>
```

如果想要给第一项添加样式，可以在为第一个<li> 添加一个类，并在该类中定义对应样式：

**HTML:**

```html
<ul>
    <li class="first-item">我是第一个</li>
    <li>我是第二个</li>
</ul>
```

**CSS:**

```css
li.first-item {
    color: orange
}
```

如果不用添加类的方法，我们可以通过给设置第一个<li> 的:first-child **伪类**来为其添加样式。这个时候，被修饰的<li> 元素依然处于文档树中。

**HTML:**

```html
<ul>
    <li>我是第一个</li>
    <li>我是第二个</li>
</ul>
```

**CSS:**

```css
li:first-child {
    color: orange
}
```



下面是**伪元素的使用场景**，另一个简单的 html 段落片段：

```html
<p>Hello World, and wish you have a good day!</p>
```

如果想要给该段落的第一个字母添加样式，可以在第一个字母中包裹一个<span> 元素，并设置该 span 元素的样式：

**HTML:**

```html
<p><span class="first">H</span>ello World, and wish you have a good day!</p>
```

**CSS:**

```css
.first {
    font-size: 5em;
}
```

如果不创建一个<span> 元素，我们可以通过设置<p> 的:first-letter **伪元素**来为其添加样式。这个时候，看起来好像是创建了一个虚拟的<span> 元素并添加了样式，但**实际上文档树中并不存在这个<span> 元素。**

**HTML:**

```html
<p>Hello World, and wish you have a good day!</p>
```

**CSS:**

```css
p:first-letter {
    font-size: 5em;
}
```

从上述例子中可以看出，伪类的操作对象是文档树中已有的元素，而伪元素则创建了一个文档数外的元素。因此，**伪类与伪元素的区别在于：有没有创建一个文档树之外的元素。当然！伪元素创建的是一个虚拟的 元素并添加了样式，实际上文档树中并不存在这个 元素。**

